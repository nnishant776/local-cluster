apiVersion: v1
kind: PersistentVolume
metadata:
  name: {{ include "docker-registry.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels: {{- include "docker-registry.selectorLabels" . | nindent 4 }}
spec:
  capacity:
    storage: {{ default "50Gi" .Values.persistentVolume.capacity }}
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: {{ .Values.persistentVolume.reclaimPolicy }}
  storageClassName: {{ .Values.storageClass.name }}
  {{- .Values.persistentVolume.storageType | toYaml | nindent 2 }}
  nodeAffinity: {{ .Values.persistentVolume.nodeAffinity | toYaml | nindent 4 }}
